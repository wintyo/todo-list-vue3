var q=Object.defineProperty,H=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var S=(o,e,t)=>e in o?q(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,V=(o,e)=>{for(var t in e||(e={}))K.call(e,t)&&S(o,t,e[t]);if(b)for(var t of b(e))j.call(e,t)&&S(o,t,e[t]);return o},A=(o,e)=>H(o,J(e));import{r as T,d as v,w as $,o as _,c as g,a,b as C,e as z,u as p,p as D,f as x,g as G,h as O,t as N,i as Q,j as k,F as B,k as I,l as U,v as M,m as W,n as X,q as Y}from"./vendor.8c19cef5.js";const Z=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const d of n)if(d.type==="childList")for(const i of d.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const d={};return n.integrity&&(d.integrity=n.integrity),n.referrerpolicy&&(d.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?d.credentials="include":n.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(n){if(n.ep)return;n.ep=!0;const d=t(n);fetch(n.href,d)}};Z();function F(o){const e=T(o);return{refs:e,setRef:t=>s=>{e[t]=s}}}var h=(o,e)=>{const t=o.__vccOpts||o;for(const[s,n]of e)t[s]=n;return t};const oo=v({props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(o,{emit:e}){const t=o;$(()=>t.modelValue,i=>{const{elDialog:c}=s;c!=null&&(i?c.showModal():c.close())});const{refs:s,setRef:n}=F({elDialog:null}),d=()=>{e("update:modelValue",!1)};return(i,c)=>(_(),g("dialog",{class:"dialog",ref:p(n)("elDialog"),onClick:d},[a("div",{onClick:c[0]||(c[0]=z(()=>{},["stop"]))},[C(i.$slots,"default",{},void 0,!0)])],512))}});var w=h(oo,[["__scopeId","data-v-cff4f6c8"]]);const eo=o=>(D("data-v-288ce5ea"),o=o(),x(),o),to=["open"],no={class:"header"},so=eo(()=>a("div",{class:"header__icon"},null,-1)),ao={class:"header__content"},lo={class:"content"},uo=v({props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(o,{emit:e}){const t=o,s=n=>{n.currentTarget instanceof HTMLElement&&e("update:modelValue",n.currentTarget.getAttribute("open")!=null)};return(n,d)=>(_(),g("details",{class:"details",open:t.modelValue,onToggle:s},[a("summary",no,[so,a("div",ao,[C(n.$slots,"head",{},void 0,!0)])]),a("div",lo,[C(n.$slots,"default",{},void 0,!0)])],40,to))}});var ro=h(uo,[["__scopeId","data-v-288ce5ea"]]);const io={key:0,class:"dialog-content"},po=v({props:{title:null},setup(o,{expose:e}){const t=o,s=T({isOpen:!1,dialogOption:void 0}),n=u=>{s.dialogOption=u,s.isOpen=!0},d=()=>{s.isOpen=!1,s.dialogOption&&s.dialogOption.onClose&&s.dialogOption.onClose()},i=u=>{s.isOpen=u,s.dialogOption=void 0},c=()=>{s.dialogOption&&s.dialogOption.okAction?s.dialogOption.okAction():d()},r=()=>{s.dialogOption&&s.dialogOption.ngAction?s.dialogOption.ngAction():d()};return e({open:n,close:d}),(u,l)=>(_(),G(w,{modelValue:p(s).isOpen,"onUpdate:modelValue":i},{default:O(()=>[p(s).dialogOption?(_(),g("div",io,[a("div",null,N(t.title),1),a("div",{class:"action-row"},[a("button",{onClick:r},"NG"),a("button",{style:{"margin-left":"4px"},onClick:c},"OK")])])):Q("",!0)]),_:1},8,["modelValue"]))}});var co=h(po,[["__scopeId","data-v-681c7e17"]]);const _o={class:"check-area"},mo=["checked"],fo=v({props:{todo:null},emits:["update:todo"],setup(o,{emit:e}){const t=o,s=n=>{const d=n.currentTarget;d instanceof HTMLInputElement&&e("update:todo",A(V({},t.todo),{isChecked:d.checked}))};return(n,d)=>(_(),g("div",null,[a("label",_o,[a("input",{type:"checkbox",checked:t.todo.isChecked,onChange:s},null,40,mo),a("span",null,N(t.todo.text),1)])]))}});var go=h(fo,[["__scopeId","data-v-27da0c8d"]]);const vo={class:"header"},ho=["disabled"],Oo=v({props:{groupName:null,isOpen:{type:Boolean},todos:null},emits:["update:todoGroup","remove","add:todo","update:todo"],setup(o,{emit:e}){const t=o,{refs:s,setRef:n}=F({dialog:null}),d=T({todoName:""}),i=l=>{e("update:todoGroup",{groupName:t.groupName,isOpen:l,todos:t.todos})},c=()=>{const{dialog:l}=s;l!=null&&l.open({okAction:()=>{e("remove"),l.close()}})},r=(l,f)=>{e("update:todo",l,f)},u=l=>{l.preventDefault(),e("add:todo",{text:d.todoName,isChecked:!1}),d.todoName=""};return(l,f)=>(_(),g("div",null,[k(ro,{modelValue:t.isOpen,"onUpdate:modelValue":i},{head:O(()=>[a("div",vo,[a("div",null,N(t.groupName),1),a("button",{onClick:c},"delete")])]),default:O(()=>[a("div",null,[(_(!0),g(B,null,I(t.todos,(m,y)=>(_(),G(go,{todo:m,"onUpdate:todo":P=>r(y,P)},null,8,["todo","onUpdate:todo"]))),256))]),a("form",{onSubmit:u},[U(a("input",{"onUpdate:modelValue":f[0]||(f[0]=m=>p(d).todoName=m),placeholder:"TODO"},null,512),[[M,p(d).todoName]]),a("button",{style:{"margin-left":"4px"},type:"submit",disabled:p(d).todoName===""},"\u8FFD\u52A0",8,ho)],32)]),_:1},8,["modelValue"]),k(co,{ref:p(n)("dialog"),title:"\u524A\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304B\uFF1F"},null,512)]))}});var To=h(Oo,[["__scopeId","data-v-6c3c6c78"]]);function yo(){const o=localStorage.getItem("piniaState");try{return JSON.parse(o||"").todo}catch{return{todoGroups:[]}}}const Co=W("todo",{state:yo,actions:{addTodoGroup(o){this.todoGroups.unshift({groupName:o,isOpen:!1,todos:[]})},updateTodoGroup(o,e){this.todoGroups[o]=e},removeTodoGroup(o){this.todoGroups.splice(o,1)},addTodo(o,e){this.todoGroups[o].todos.push(e)},updateTodo(o,e,t){this.todoGroups[o].todos[e]=t},removeTodo(o,e){this.todoGroups[o].todos.splice(e,1)}}});const L=o=>(D("data-v-5589632d"),o=o(),x(),o),ko={class:"app"},Go=L(()=>a("h1",null,"TODO\u30EA\u30B9\u30C8",-1)),No=L(()=>a("button",{style:{"margin-left":"8px"},type:"submit"},"\u4F5C\u6210",-1)),bo=v({setup(o){const e=Co(),t=T({isModalOpen:!1,inputTodoGroupName:"",isAccordionOpen:!1}),s=(r,u)=>{e.updateTodoGroup(r,u)},n=r=>{e.removeTodoGroup(r)},d=(r,u)=>{e.addTodo(r,u)},i=(r,u,l)=>{e.updateTodo(r,u,l)},c=r=>{r.preventDefault(),console.log("submit",t.inputTodoGroupName),e.addTodoGroup(t.inputTodoGroupName),t.inputTodoGroupName="",t.isModalOpen=!1};return(r,u)=>(_(),g("div",ko,[Go,a("button",{style:{"margin-bottom":"8px"},onClick:u[0]||(u[0]=l=>p(t).isModalOpen=!0)},"TODO\u30B0\u30EB\u30FC\u30D7\u4F5C\u6210"),a("div",null,[(_(!0),g(B,null,I(p(e).todoGroups,(l,f)=>(_(),G(To,{groupName:l.groupName,isOpen:l.isOpen,todos:l.todos,"onUpdate:todoGroup":m=>s(f,m),onRemove:m=>n(f),"onAdd:todo":m=>d(f,m),"onUpdate:todo":(m,y)=>{i(f,m,y)}},null,8,["groupName","isOpen","todos","onUpdate:todoGroup","onRemove","onAdd:todo","onUpdate:todo"]))),256))]),k(w,{modelValue:p(t).isModalOpen,"onUpdate:modelValue":u[2]||(u[2]=l=>p(t).isModalOpen=l)},{default:O(()=>[a("form",{class:"modal-content",onSubmit:c},[U(a("input",{"onUpdate:modelValue":u[1]||(u[1]=l=>p(t).inputTodoGroupName=l),placeholder:"TODO\u30B0\u30EB\u30FC\u30D7\u540D"},null,512),[[M,p(t).inputTodoGroupName]]),No],32)]),_:1},8,["modelValue"])]))}});var So=h(bo,[["__scopeId","data-v-5589632d"]]);const E=X(So),R=Y();E.use(R);E.mount("#app");$(R.state,o=>{console.log(o),localStorage.setItem("piniaState",JSON.stringify(o))},{deep:!0});
